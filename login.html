<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Register for URLinks - Create your cybersecurity account today." />
  <meta name="author" content="URLinks Team" />

  <title>URLinks - Register</title>

  <link rel="shortcut icon" href="./assets/w-logo.png" type="image/x-icon" />

  <!-- CSS FILES -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="css/tooplate-style.css">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:300,400,600,700,800&display=swap" rel="stylesheet">

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD5fcYiSBL--WERcylwAETgx123hH42Q28",
      authDomain: "urlinks-d2f2e.firebaseapp.com",
      projectId: "urlinks-d2f2e",
      storageBucket: "urlinks-d2f2e.appspot.com", 
      messagingSenderId: "199758058102",
      appId: "1:199758058102:web:311de9c5b0210d284e4557",
      measurementId: "G-N8NCSTM3XD"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const analytics = getAnalytics(app);

    document.addEventListener('DOMContentLoaded', () => {
      const signUpForm = document.getElementById('signup-form');

      if (signUpForm) {
        signUpForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;

          try {
            const userCredential = await createUserWithEmailAndPassword(auth, email, password);
            console.log('User registered:', userCredential.user);

            alert('Registration successful! You can now log in.');
            window.location.href = "login.html"; // Redirect after signup
          } catch (error) {
            console.error('Registration error:', error.message);
            alert('Failed to create account: ' + error.message);
          }
        });
      }
    });
  </script>
</head>

<body class="topics-listing-page" id="top">

<!-- Navbar Start -->
<div class="header">
  <div class="container">
    <nav class="navbar navbar-inverse" role="navigation">
      <div class="navbar-header">
        <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="index.html" class="navbar-brand scroll-top">
          <div class="logo"></div>
        </a>
      </div>

      <div id="main-nav" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="index.html" class="scroll-top">Home</a></li>
          <li><a href="index.html#about" class="scroll-link">About Us</a></li>
          <li><a href="url-scanner.html">URL Scanner</a></li>
          <li><a href="register.html">Register</a></li>
          <li><a href="login.html">Log In</a></li>
        </ul>
      </div>
    </nav>
  </div>
</div>
<!-- Navbar End -->

<main>
  <header class="site-header d-flex flex-column justify-content-center align-items-center">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-5 col-12">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Homepage</a></li>
              <li class="breadcrumb-item active" aria-current="page">Register</li>
            </ol>
          </nav>

          <h2 class="text-white">Register at URLinks</h2>
        </div>
      </div>
    </div>
  </header>

  <section class="section-padding section-bg">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-12">
          <h3 class="mb-4 pb-2">Create an Account</h3>
        </div>

        <div class="col-lg-6 col-12">
          <form id="signup-form" class="custom-form contact-form" role="form">
            <div class="row">
              <div class="col-lg-12 col-12">
                <div class="form-floating mb-3">
                  <input type="email" name="email" id="email" class="form-control" placeholder="Email address" required />
                  <label for="email" style="color: rgb(17, 58, 96);">Email address</label>
                </div>
              </div>

              <div class="col-lg-12 col-12">
                <div class="form-floating mb-3">
                  <input type="password" name="password" id="password" class="form-control" placeholder="Password" required />
                  <label for="password" style="color: rgb(17, 58, 96);">Create a Password</label>
                </div>
              </div>

              <div class="col-lg-4 col-12 ms-auto">
                <button type="submit" class="form-control" style="background-color: cadetblue; color: white;">Sign Up</button>
              </div>

            </div>
          </form>
        </div>

      </div>
    </div>
  </section>
</main>

<!-- Optional Footer could be pasted here later -->

<!-- JavaScript Libraries -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/jquery.sticky.js"></script>
<script src="js/custom.js"></script>

</body>
</html>
